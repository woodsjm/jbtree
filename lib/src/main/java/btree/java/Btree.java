/*
 * This Java source file was generated by the Gradle 'init' task.
 */
package btree.java;

import java.util.Stack;



public class Btree {
     
    public static class Node {
        Object val;
        Node left;
        Node right;

        public Node(Integer value) {
            this.val = value;
        }

        public Node(String value) {
            this.val = value;
        }

        public Node(Float value) {
            this.val = value;
        }

        @Override
        public int hashCode() {
            return Integer.valueOf(this.val.toString()).intValue();
        }

        public boolean equals(Node other) {
            Stack<Node> stack1 = new Stack<>();
            stack1.push(this);
            Stack<Node> stack2 = new Stack<>();
            stack2.push(other);

            while (stack1.size() > 0 || stack2.size() > 0) {
                Node node1 = stack1.pop();
                Node node2 = stack2.pop();

                if (node1 == null && node2 == null) {
                    continue;
                } else if (node1 == null || node2 == null) {
                    return false;
                } else if (!(other instanceof Node)) {
                    return false;
                } else {
                    if (node1.val instanceof Float && node2.val instanceof Float) {
                        String float1 = String.format("%.2f", node1.val);
                        String float2 = String.format("%.2f", node2.val);
                        if (Float.compare(Float.valueOf(float1), Float.valueOf(float2)) != 0) {
                            return false;
                        }
                    } else if (node1.val != node2.val) {
                        return false;
                    }
                }
                    
                stack1.push(node1.right);
                stack1.push(node1.left);
                stack2.push(node2.right);
                stack2.push(node2.left);
            }

            return true;
        }

        @Override
        public String toString() {
            String nodeString = "Node()";
            
            if (this.val instanceof Integer) {
                nodeString = String.format("Node(%d)", this.val);
            } else if (this.val instanceof String) {
                nodeString = String.format("Node(%s)", this.val);
            } else if (this.val instanceof Float) {
                nodeString = String.format("Node(%.2f)", this.val);
            }

            return nodeString;
        }
    }

    public Btree() {}

    public static void main(String... args) {
        final String message = "\n"
            + "Btree-java is a port of the (Python) Binarytree library.\n"
            + "It has most of Binarytree's functionality, but lacks support for Graphviz and Jupyter Notebooks.\n"
            + "Btree-java includes matching unit tests.\n";
        
        System.out.println(message);
    }
}


